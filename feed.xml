<?xml version='1.0' encoding='UTF-8'?>
<rss version='2.0' xmlns:atom='http://www.w3.org/2005/Atom'>
<channel>
<atom:link href='http://world-in-atom.com/' rel='self' type='application/rss+xml'/>
<title>
The world in an atom
</title>
<link>
http://world-in-atom.com/
</link>
<description>
Blog about Clojure and various thoughts.
</description>
<lastBuildDate>
Thu, 02 Jun 2016 18:14:06 +0200
</lastBuildDate>
<generator>
clj-rss
</generator>
<item>
<guid>
http://world-in-atom.com/posts/2016-05-27-switch-to-cryogen/
</guid>
<link>
http://world-in-atom.com/posts/2016-05-27-switch-to-cryogen/
</link>
<title>
Switch to Cryogen
</title>
<description>
&lt;p&gt;My blog was previously served by Jekyll, with a theme adapted from &lt;a href='https://github.com/mmistakes/so-simple-theme' target='_blank'&gt;So Simple&lt;/a&gt;. This suited me very well. Elegant layout, satisfactory responsive design, fast processing of pages.&lt;/p&gt;&lt;p&gt;But then, every time I wanted to write a quick post, at the time of starting Jenkins to heat up the receptacle of my prose, bing! a mismatch is detected between coffeescript / the Jekyll engine / its plugins / gem / bundle or whatever...&lt;/p&gt;&lt;p&gt;And here I am compelled to spend 20 minutes trying to update all of these elements instead of improving my English writing &amp;ndash; and my grammar deserves a good upgrade...&lt;/p&gt;&lt;p&gt;For a while I used a Docker container wrapping Jekyll and its plugins. It's an interesting experience, which has the advantage to freeze versions of tools required for the blog, while letting those of workstation freely evolve.&lt;/p&gt;&lt;p&gt;And then I have wondered: this is a blog about Clojure, why not use a blog engine that is made of it, and enables hosting on Github? And I quickly came across &lt;a href='https://github.com/cryogen-project/cryogen' target='_blank'&gt;Cryogen&lt;/a&gt;, a very good static website generator.&lt;/p&gt;&lt;p&gt;Everything is fine, however, I made two small changes to the &lt;code&gt;core&lt;/code&gt; project.&lt;/p&gt;&lt;p&gt;For this I use &lt;code&gt;intern&lt;/code&gt; function, which allows to change the root binding of a var in another namespace. This is a handy feature when you want to change a single function without cloning the entire project.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;The first in the &lt;code&gt;compiler&lt;/code&gt; namespace, on the &lt;code&gt;add-prev-next&lt;/code&gt; function,  where I reversed the order of the previous and next pages  because I find it more logical to have the historical on the left.&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;intern 'cryogen-core.compiler
        &amp;#40;with-meta #&amp;#95;1 'add-prev-next
                   {:doc &amp;#40;str &amp;quot;Adds a :prev and :next key to the page/post&amp;quot;
                              &amp;quot; data containing the title and uri of the &amp;quot;
                              &amp;quot;prev/next post/page if it exists&amp;quot;&amp;#41;}&amp;#41;
        &amp;#40;fn
          &amp;#91;pages&amp;#93;
          &amp;#40;map &amp;#40;fn &amp;#91;&amp;#91;next target prev&amp;#93;&amp;#93; ; before: &amp;#91;prev target next&amp;#93;
                 &amp;#40;assoc target
                   :prev &amp;#40;if prev &amp;#40;select-keys prev &amp;#91;:title :uri&amp;#93;&amp;#41; nil&amp;#41;
                   :next &amp;#40;if next &amp;#40;select-keys next &amp;#91;:title :uri&amp;#93;&amp;#41; nil&amp;#41;&amp;#41;&amp;#41;
               &amp;#40;partition 3 1 &amp;#40;flatten &amp;#91;nil pages nil&amp;#93;&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &amp;#9312; &lt;code&gt;with-meta&lt;/code&gt; keeps the original docstring and attach it  to the function,  because it is not possible to do this in the &lt;code&gt;fn block &amp;#91;&amp;#93;&lt;/code&gt;.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;2.The second in the &lt;code&gt;markup&lt;/code&gt; namespace, on the &lt;code&gt;rewrite-hrefs&lt;/code&gt; function,   where I open a new tab when &lt;code&gt;target&lt;/code&gt; is specified at the end of the link.   A little regex makes the substitution.&lt;/p&gt;&lt;p&gt;  &lt;script src=&quot;https://gist.github.com/obarbeau/65d7f487797d8041b6a79c15b532604f.js&quot;&gt;&lt;/script&gt;&lt;/p&gt;&lt;p&gt;Finally, the day you use &lt;code&gt;intern&lt;/code&gt; to define a macro, please remember:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;to add the meta &lt;code&gt;:macro true&lt;/code&gt; in the name of var&lt;/li&gt;&lt;li&gt;to add two arguments to your function, &lt;code&gt;&amp;amp;form&lt;/code&gt; and &lt;code&gt; env&lt;/code&gt;  (which are not required with &lt;code&gt;defmacro&lt;/code&gt;)  otherwise you might look for a moment why  the substitutions do not behave as expected...  &lt;i class=&quot;fa fa-smile-o&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;intern 'monger.query &amp;#40;with-meta 'with-collection {:macro true}&amp;#41;
        &amp;#40;fn &amp;#91;&amp;amp;form &amp;amp;env &amp;#94;DB db &amp;#94;String coll &amp;amp; body&amp;#93;
          `&amp;#40;let &amp;#91;coll# &amp;#126;coll
                 db# &amp;#126;db
                 db-coll# &amp;#40;if &amp;#40;string? coll#&amp;#41;
                            &amp;#40;.getCollection &amp;#94;DB db# &amp;#94;String coll#&amp;#41;
                            coll#&amp;#41;
                 query# &amp;#40;-&amp;gt; &amp;#40;empty-query db-coll#&amp;#41; &amp;#126;@body&amp;#41;&amp;#93;
             &amp;#40;exec query#&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Fri, 27 May 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2016-05-26-clojure-cheat-sheet/
</guid>
<link>
http://world-in-atom.com/posts/2016-05-26-clojure-cheat-sheet/
</link>
<title>
Clojure core functions - Cheat Sheet
</title>
<description>
&lt;p&gt;Here are some useful Clojure core functions along with examples  and MathML notation for fun.&lt;/p&gt;&lt;p&gt;Nothing new under the sun, but these notes had been dragging on for a long time in my drafts, so it was time to share them!&lt;/p&gt;&lt;p&gt;&lt;table style=&quot;border-spacing: 7px; border-collapse: separate;&quot;&gt; &lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;'a ⇔ &amp;#40;quote a&amp;#41;
&amp;#91;syntax quote&amp;#93; `a ⇔ &amp;#40;quote user/a&amp;#41;

;; Examples
&amp;#40;read-string &amp;quot;`{:a 100}&amp;quot;&amp;#41;
; =&amp;gt; {:a 100}
`&amp;#91;:a &amp;#126;&amp;#40;+ 1 1&amp;#41; &amp;#126;'c d &amp;#126;`e&amp;#93;
; =&amp;gt; &amp;#91;:a 2 c user/d user/e&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;&lt;code&gt;Syntax quoting&lt;/code&gt; brings optional &lt;code&gt;gensym&lt;/code&gt; (if &lt;code&gt;#&lt;/code&gt; at the end of var name. Useful for macros that create local vars, eg in &lt;code&gt;let&lt;/code&gt; or &lt;code&gt;loop&lt;/code&gt;) + namespace qualification of symbols. Produces code to reproduce the form. One can unquote inside a syntax-quoted form with the tilde &lt;code&gt;&amp;#126;&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;and arg &amp;#40;.method arg&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns &lt;code&gt;nil&lt;/code&gt; if arg is &lt;code&gt;nil&lt;/code&gt;, otherwise execute &lt;code&gt;method&lt;/code&gt; on arg. Thus avoids &lt;code&gt;nil&lt;/code&gt; checks.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;apply f x1 ... xn c
→ &amp;#40;f x1 x2 ... c1 c2 ... cn&amp;#41;

;; Examples
&amp;#40;apply + 5 6 '&amp;#40;&amp;#41;&amp;#41; ; 11
&amp;#40;apply max &amp;#91;1 2 3&amp;#93;&amp;#41; ; 3
; but
&amp;#40;max &amp;#91;1 2 3&amp;#93;&amp;#41; ; &amp;#91;1 2 3&amp;#93;
&amp;#40;+ &amp;#91;1 2 3&amp;#93;&amp;#41; ; error
&amp;#40;apply + &amp;#91;1 2 3&amp;#93;&amp;#41; ; 6
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Evaluates ƒ (must not be a macro) on &amp;#92;( x_n &amp;#92;) arguments prepended to the collection. Has similarities with &lt;code&gt;unquote splicing&lt;/code&gt; &lt;code&gt;&amp;#126;@&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;assoc map k 1 v1 ... k n v n
assoc vec idx1 v1 ... idxn vn

;; Examples
&amp;#40;assoc &amp;#91;1 2 4&amp;#93; 3 10 0 12&amp;#41;
; &amp;#91;12 2 4 10&amp;#93;
&amp;#40;assoc {:k1 &amp;quot;old v1&amp;quot; :k2 &amp;quot;v2&amp;quot;}
       :k1 &amp;quot;newv1&amp;quot; :k3 &amp;quot;v3&amp;quot;&amp;#41;
; {:k3 &amp;quot;v3&amp;quot;, :k1 &amp;quot;newv1&amp;quot;, :k2 &amp;quot;v2&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;&lt;ul&gt;&lt;li&gt;applied on a &lt;code&gt;map&lt;/code&gt;, returns a &lt;code&gt;map&lt;/code&gt; of the same type (hashed/sorted) containing (or substituting) k/v of &lt;code&gt;map&lt;/code&gt; and (by) those specified.&lt;/li&gt;&lt;li&gt;applied on a &lt;code&gt;vector&lt;/code&gt;, replace the element at specified index or add it at the last position.&lt;/li&gt;&lt;/ul&gt;  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;assoc-in map &amp;#91;k1 ... kn&amp;#93; v
assoc-in vec &amp;#91;k1 ... kn&amp;#93; v

;; Examples
&amp;#40;assoc-in &amp;#91;{:k1 &amp;quot;v1&amp;quot;} {:k2 &amp;quot;v2&amp;quot;}&amp;#93;
          &amp;#91;1 :k2&amp;#93; &amp;quot;nv2&amp;quot;&amp;#41;
; &amp;#91;{:k1 &amp;quot;v1&amp;quot;} {:k2 &amp;quot;nv2&amp;quot;}&amp;#93;
&amp;#40;assoc-in {} &amp;#91;:k1 :k2 :k3&amp;#93; &amp;quot;nv&amp;quot;&amp;#41;
; {:k1 {:k2 {:k3 &amp;quot;nv&amp;quot;}}}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns the same type of associative structure, with v the value of nested key reached by &amp;#92;( k1 .. kn &amp;#92;). If any &amp;#92;( k_x &amp;#92;) level does not exist, hash-maps are created.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;bean java-object

;; Examples
&amp;#40;bean java.awt.Color/RED&amp;#41;
; {:red 255:transparency : 1 ...}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a &lt;code&gt;map&lt;/code&gt; with all getters of the java object.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;comp f1 f2 ... fn
→ &amp;#40;f 1 &amp;#40;f2 ... &amp;#40;fn &amp;#95;&amp;#41;&amp;#41;&amp;#41;

;; Examples
&amp;#40;&amp;#40;comp str +&amp;#41; 8 8 8&amp;#41; ; « 24 »

&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a function with undefined arity, applying &amp;#92;( f_x &amp;#92;) (from right to left) on arguments.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;concat x1 ... xn

;; Examples
&amp;#40;concat &amp;#91;:a :b&amp;#93; nil &amp;#91;1 &amp;#91;2 3&amp;#93; 4&amp;#93;&amp;#41;
; &amp;#40;:a :b 1 &amp;#91;2 3&amp;#93; 4&amp;#41;

&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence including all &amp;#92;( x_k &amp;#92;) elements. Does not flatten nested colls.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;conj

;; Examples
; new element at the front
&amp;#40;conj '&amp;#40;1 2 3&amp;#41; :a&amp;#41; ; &amp;#40;:a 1 2 3&amp;#41;
; new element at the back
&amp;#40;conj &amp;#91;1 2 3&amp;#93; :a&amp;#41; ; &amp;#91;1 2 3 :a&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;&lt;p&gt;  &lt;/td&gt; &lt;/tr&gt;&lt;/p&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;constantly x

;; Examples
&amp;#40;constantly x&amp;#41; 1 2 3 → x
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a function with undefined arity, that always results in x.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;contains? coll k

;; Examples
&amp;#40;contains? &amp;#91;1 2 3 4&amp;#93; 4&amp;#41;
; false ; index outOfBounds
&amp;#40;contains? &amp;#91;1 2 3 4&amp;#93; 0&amp;#41; ; true
&amp;#40;contains? '&amp;#40;1 2 3 4&amp;#41; 2&amp;#41;
; IllegalArgumentException
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns true if the &lt;strong&gt;key&lt;/strong&gt; k is present in the &lt;strong&gt;indexed&lt;/strong&gt; collection (&lt;code&gt;map&lt;/code&gt; and &lt;code&gt;set&lt;/code&gt;), or if the index exists in a &lt;code&gt;vector&lt;/code&gt;. Do not use with &lt;code&gt;list&lt;/code&gt;. Prefer &lt;code&gt;some&lt;/code&gt; to query for a value.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;defrecord

;; Examples
&amp;#40;defrecord Foo &amp;#91;a b c&amp;#93;&amp;#41; ; user.Foo
&amp;#40;def f &amp;#40;Foo. 1 2 3&amp;#41;&amp;#41; ; #'user/f
&amp;#40;:b f&amp;#41; ; 2
&amp;#40;class f&amp;#41; ; user.Foo p
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Optionally with implementation of protocols.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;dissoc map k1 ... kn

;; Examples
&amp;#40;dissoc {:fname &amp;quot;John&amp;quot; :lname &amp;quot;Doe&amp;quot;}
        :lname&amp;#41;
; {:fname &amp;quot;John&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Opposite of &lt;code&gt;assoc&lt;/code&gt;. Returns an associative structure of the same type than &lt;code&gt;map&lt;/code&gt; but without the nested key reached by &amp;#92;( k&amp;#95;1 \cdots k&amp;#95;n &amp;#92;)  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;doseq dorun doall
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Force evaluation of lazy seqs (side effects). unlike &lt;code&gt;for&lt;/code&gt;, &lt;code&gt;doseq&lt;/code&gt; never returns a value but &lt;code&gt;nil&lt;/code&gt;. &lt;code&gt;doall &lt;/code&gt;retains the head and returns it. &lt;code&gt;dorun&lt;/code&gt; does not retain the head and returns &lt;code&gt;nil&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;dotimes bindings &amp;amp; body

;; Examples
&amp;#40;dotimes &amp;#91;n 5&amp;#93; &amp;#40;println &amp;quot;n is&amp;quot; n&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Runs body &amp;#92;( n &amp;#92;) times, from &amp;#92;( 0 \text{ to } n-1 &amp;#92;).  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;find map k
find vec idx

;; Examples
&amp;#40;find {:b 2 :a 1 :c 3} :a&amp;#41; ; &amp;#91;:a 1&amp;#93;
&amp;#40;find &amp;#91;:a :b :c :d&amp;#93; 2&amp;#41; ; &amp;#91;2 :c&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;&lt;ul&gt;&lt;li&gt;if &lt;code&gt;map&lt;/code&gt;, returns the map entry for key &amp;#92;( k &amp;#92;) or &lt;code&gt;nil&lt;/code&gt; if not found.&lt;/li&gt;&lt;li&gt;if &lt;code&gt;vector&lt;/code&gt;, returns entry for index &amp;#92;( idx &amp;#92;) or &lt;code&gt;nil&lt;/code&gt; if not found.  &lt;/td&gt;&lt;/tr&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;flatten

;; Examples
&amp;#40;flatten &amp;#91;1 &amp;#91;2 3 &amp;#91;4 5&amp;#93; 6&amp;#93;&amp;#93;&amp;#41;
; &amp;#40;1 2 3 4 5 6&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Flattens the nested sequences.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;fnil f x1 ... xn
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a function that calls ƒ with &amp;#92;( x_k &amp;#92;) as an argument if the original argument is &lt;code&gt;nil&lt;/code&gt;. The arity of ƒ must be &amp;#92;( \geq n &amp;#92;).  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;for &amp;#91;x valx
y valy
...
:let &amp;#91;z valz ...&amp;#93;
:while test
:when test&amp;#93;
body
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;« List comprehension ». Returns a sequence containing the results of the execution of body. Not intended for side effects.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;frequencies coll

;; Examples
&amp;#40;frequencies &amp;#91;'a 'b 'a 'a&amp;#93;&amp;#41;
; {a 3, b 1}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns with a &lt;code&gt;map&lt;/code&gt; that indicates, for each separate element of &lt;code&gt;col&lt;/code&gt;, the frequency at with which it appears.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;group-by f coll

;; Examples
&amp;#40;group-by #&amp;#40;.length %&amp;#41;
  &amp;#91;&amp;quot;some&amp;quot; &amp;quot;words&amp;quot; &amp;quot;with&amp;quot;
  &amp;quot;different&amp;quot; &amp;quot;lengths&amp;quot;&amp;#93;&amp;#41;
; {4 &amp;#91;&amp;quot;some&amp;quot; &amp;quot;with&amp;quot;&amp;#93;, 5 &amp;#91;&amp;quot;words&amp;quot;&amp;#93;,
;  9 &amp;#91;&amp;quot;different&amp;quot;&amp;#93;, 7 &amp;#91;&amp;quot;lengths&amp;quot;&amp;#93;}

&amp;#40;group-by #&amp;#40;&amp;lt; % 10&amp;#41; &amp;#91;1 2 20 21&amp;#93;&amp;#41;
; {true &amp;#91;1 2&amp;#93; false &amp;#91;20 21&amp;#93;}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a &lt;code&gt;map&lt;/code&gt; of &lt;code&gt;col&lt;/code&gt; elements, sorted by the return value of ƒ applied. to them.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;interleave c1 ... cn

;; Examples
&amp;#40;interleave &amp;#91;:a :b&amp;#93; &amp;#40;iterate inc 1&amp;#41;&amp;#41;
; &amp;#40;:a 1 :b 2&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence containing the first element of each &amp;#92;( c_x &amp;#92;), then the second, ...  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;interpose sep coll
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence of elements of the collection separated by the &lt;code&gt;sep&lt;/code&gt; separator.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;into to from

;; Examples
&amp;#40;into {} &amp;#91;&amp;#91;1 2&amp;#93; &amp;#91;3 4&amp;#93;&amp;#93;&amp;#41;
; {1 2, 3 4}
&amp;#40;into &amp;#91;&amp;#93; {1 2, 3 4}&amp;#41;
; &amp;#91;&amp;#91;1 2&amp;#93; &amp;#91;3 4&amp;#93;&amp;#93;
&amp;#40;into &amp;#40;4&amp;#41; '&amp;#40;1 2 3&amp;#41;&amp;#41;
; &amp;#40;3 2 1 4&amp;#41;
&amp;#40;into '&amp;#40;1 2 3&amp;#41; '&amp;#40;:a :b :c&amp;#41;&amp;#41;
; &amp;#40;:c :b :a 1 2 3&amp;#41;
&amp;#40;into &amp;#91;1 2 3&amp;#93; &amp;#91;:a :b :c&amp;#93;&amp;#41;
; &amp;#91;1 2 3 :a :b :c&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a collection of the same type than &lt;code&gt;to&lt;/code&gt;, appending all elements of collection &lt;code&gt;from&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;iterate f x
→ &amp;#40;x &amp;#40;f x&amp;#41; &amp;#40;f &amp;#40;f x&amp;#41;&amp;#41; ...&amp;#41;

;; Examples
&amp;#40;iterate #&amp;#40;∗ 2&amp;#41; 2&amp;#41;
; &amp;#40;2 4 8 16 ...&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;ƒ must be a pure function.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;juxt f 1 f2 ...
&amp;#40;juxt f1 f2 f3&amp;#41; x
→ &amp;#91;&amp;#40;f1 x&amp;#41; &amp;#40;f2 x&amp;#41; &amp;#40;f 3 x&amp;#41;&amp;#93;

;; Examples
&amp;#40;map &amp;#40;juxt second count&amp;#41;
     &amp;#91;'&amp;#40;2 3&amp;#41; '&amp;#40;5 6 9&amp;#41;&amp;#93;&amp;#41;
; &amp;#40;&amp;#91;3 2&amp;#93; &amp;#91;6 3&amp;#93;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a function that returns a &lt;code&gt;vector&lt;/code&gt; whose elements are the application of ƒ on the argument.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;keep f coll
keep-indexed f coll

;; Examples
&amp;#40;keep #&amp;#40;when &amp;#40;odd? %&amp;#41; %&amp;#41; &amp;#40;range 10&amp;#41;&amp;#41;
; &amp;#40;1 3 5 7 9&amp;#41;
&amp;#40;map #&amp;#40;when &amp;#40;odd? %&amp;#41; %&amp;#41; &amp;#40;range 10&amp;#41;&amp;#41;
; &amp;#40;nil 1 nil 3 nil 5 nil 7 nil 9&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence made of non &lt;code&gt;nil&lt;/code&gt; results of the application of ƒ on every &lt;code&gt;coll&lt;/code&gt; elements. &lt;code&gt;false&lt;/code&gt; results are included. ƒ must be a pure function.&lt;code&gt;keep-indexed&lt;/code&gt; uses a function like &lt;code&gt;fn &amp;#91;idx v&amp;#93;&lt;/code&gt;.&lt;p&gt;  &lt;/td&gt; &lt;/tr&gt;&lt;/p&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;list x1 ... xn

;; Examples
'&amp;#40;a 2 3&amp;#41; ; &amp;#40;a 2 3&amp;#41;
&amp;#40;list a 2 3&amp;#41;
; Exception cannot resolve a
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a &lt;code&gt;list&lt;/code&gt; containing all &amp;#92;( x_n &amp;#92;) args, possibly &lt;code&gt;nil&lt;/code&gt;. Unlike literal notation list &lt;code&gt;'&amp;#40;...&amp;#41;&lt;/code&gt;, the elements are evaluated before insertion.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;list&amp;#42; x1 ... xn s
→ &amp;#40;x1 ... xn s1 ... sn&amp;#41;
list&amp;#42; x1 ... xn nil
→ &amp;#40;x1 ... xn&amp;#41;
list&amp;#42; x1 ... xn &amp;#40;&amp;#41;
→ &amp;#40;x1 ... xn&amp;#41;

;; Examples
&amp;#40;list&amp;#42; 1 2 &amp;#91;3 4&amp;#93;&amp;#41;
; &amp;#40;1 2 3 4&amp;#41;
&amp;#40;list 1 2 &amp;#91;3 4&amp;#93;&amp;#41;
; &amp;#40;1 2 &amp;#91;3 4&amp;#93;&amp;#41;
&amp;#40;list&amp;#42; nil &amp;#91;1 2&amp;#93;&amp;#41; ; &amp;#40;nil 1 2&amp;#41;
&amp;#40;list&amp;#42; 1 nil&amp;#41; ; &amp;#40;1&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a &lt;code&gt;list&lt;/code&gt; containing all &amp;#92;( x_n &amp;#92;) args, possibly &lt;code&gt;nil&lt;/code&gt;, as well as all elements of sequence s (if not empty and not &lt;code&gt;nil&lt;/code&gt;).  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#91;p&amp;#93;map f c1 c2 ...
→ &amp;#40;&amp;#40;f c11 c21 ...&amp;#41;
   &amp;#40;f c12 c22 ...&amp;#41; ...&amp;#41;

&amp;#91;p&amp;#93;map f c ; &amp;#40;&amp;#40;f c1&amp;#41; &amp;#40;f c2&amp;#41; ...&amp;#41;

&amp;#91;p&amp;#93; : means parallel

mapv f c1 c2 ...
→ &amp;#91;&amp;#40;f c1 1 c21 ...&amp;#41;
   &amp;#40;f c1 2 c22 ...&amp;#41; ...&amp;#93;

;; Examples
; 7 et 8 seront ignorés
map #&amp;#40;+ %%2%3&amp;#41; '&amp;#40;1 2 3&amp;#41;
    '&amp;#40;4 5 6 7 8&amp;#41; '&amp;#40;9 10 11&amp;#41;
; &amp;#40;14 17 20&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence containing results of the application of ƒ on each first elements of every collections &amp;#92;( c_n &amp;#92;) then on each second elements, ... ƒ should have as many args as the number of collections. If a collection has too many arguments they will be ignored. With a single collection, &lt;code&gt;map&lt;/code&gt; applies the function on every elements. &lt;code&gt;mapv &lt;/code&gt;: same thing but returns a &lt;code&gt;vector&lt;/code&gt; and is not lazy.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;mapcat f c1 ... cn
→ &amp;#40;concat &amp;#40;f c1&amp;#41; &amp;#40;f c2&amp;#41; ...&amp;#41;

;; Examples
&amp;#40;mapcat reverse &amp;#91;&amp;#91;3 2 1 0&amp;#93; &amp;#91;6 5 4&amp;#93;
                 &amp;#91;9 8 7&amp;#93;&amp;#93;&amp;#41;
; &amp;#40;0 1 2 3 4 5 6 7 8 9&amp;#41;
&amp;#40;mapcat list &amp;#91;:a :b :c&amp;#93; &amp;#91;1 2 3&amp;#93;&amp;#41;
; &amp;#40;:a 1 :b 2 :c 3&amp;#41;
&amp;#40;mapcat &amp;#40;fn &amp;#91;x&amp;#93; &amp;#40;repeat x x&amp;#41;&amp;#41; &amp;#91;12 3&amp;#93;&amp;#41;
; &amp;#40;1 2 2 3 3 3&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Equivalent to &lt;code&gt;&amp;#40;apply concat &amp;#40;map f c1 ... cn&amp;#41;&amp;#41;&lt;/code&gt;. Applies &lt;code&gt;concat&lt;/code&gt; on the result of the application of &lt;code&gt;map&lt;/code&gt; on ƒ and collections.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;memoize f
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a cached version of ƒ. ƒ must be pure.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#94;{:doc ...}

;; Examples
&amp;#40;def &amp;#94;{:doc &amp;quot;a var&amp;quot;} x 10&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Alternate docstring. Metadata does not affect equality.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;or supplied-val default-val
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns &lt;code&gt;supplied-val&lt;/code&gt; if not &lt;code&gt;nil&lt;/code&gt;, otherwise &lt;code&gt;default-val&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;partial f x1 ... xn

;; Examples
#&amp;#40;+ 1 %&amp;#41; ⇔ &amp;#40;partial + 1&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a function that takes &amp;#92;( n &amp;#92;) less args that what ƒ requires.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;partition n coll
partition n step coll
partition n step pad coll

;; Examples
&amp;#40;partition 2 &amp;#91;1 2 3&amp;#93;&amp;#41; ; &amp;#40;&amp;#40;1 2&amp;#41;&amp;#41;
&amp;#40;partition 2 1 &amp;#40;repeat 0&amp;#41; &amp;#91;1 2 3&amp;#93;&amp;#41;
; &amp;#40;&amp;#40;1 2&amp;#41; &amp;#40;2 3&amp;#41; &amp;#40;3 0&amp;#41;&amp;#41;
&amp;#40;partition 2 1 &amp;#91;1 2 3&amp;#93;&amp;#41;
; &amp;#40;&amp;#40;1 2&amp;#41; &amp;#40;2 3&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a lazy sequence containing lists of &amp;#92;( n &amp;#92;) elements each. If the final &lt;code&gt;list&lt;/code&gt; has less than &amp;#92;( n &amp;#92;) elements, it is not added, except with &lt;code&gt;partition-all&lt;/code&gt; (see below). The 'step', which is &amp;#92;( n &amp;#92;) by default, is the offset for the creation of each list. 'Pad' is a list designed to complement the latest if less than &amp;#92;( n &amp;#92;) elements.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;partition-all n coll

;; Examples
&amp;#40;partition-all 2 &amp;#91;1 2 3&amp;#93;&amp;#41;
; &amp;#40;&amp;#40;1 2&amp;#41; &amp;#40;3&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Similar to &lt;code&gt;partition&lt;/code&gt;, but also builds the last &lt;code&gt;list&lt;/code&gt; even if there are less than &amp;#92;( n &amp;#92;) elements.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;partition-by f coll

;; Examples
&amp;#40;partition-by even? &amp;#91;1 2 3&amp;#93;&amp;#41;
; &amp;#40;&amp;#40;1&amp;#41; &amp;#40;2&amp;#41; &amp;#40;3&amp;#41;&amp;#41;
&amp;#40;partition-by &amp;#40;partial &amp;lt; 10&amp;#41;
              &amp;#91;1 2 11 1&amp;#93;&amp;#41;
; &amp;#40;&amp;#40;1 2&amp;#41; &amp;#40;11&amp;#41; &amp;#40;1&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Similar to &lt;code&gt;partition&lt;/code&gt;, but cut the list each times ƒ change its value.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;reduce f c
→ &amp;#40;f &amp;#40;f &amp;#40;f c1 c2&amp;#41; c3&amp;#41; c4&amp;#41; ...
; ƒ should have an arity without args
reduce f '&amp;#40;&amp;#41; → f
reduce f '&amp;#40;c1&amp;#41; → c1
reduce f val c
→ &amp;#40;f &amp;#40;f &amp;#40;f val c1&amp;#41; c2&amp;#41; c3&amp;#41; ...
reduce f val '&amp;#40;&amp;#41; → val
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;  &lt;/td&gt;   &lt;td&gt; ƒ should have a 2 args arity, except when not used or indicated.  Returns the accumulator.   &lt;/td&gt; &lt;/tr&gt;&lt;/p&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;reductions
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence of intermediate steps of &lt;code&gt;reduce&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;repeatedly f → '&amp;#40;f f f ...&amp;#41;
repeatedly n f → '&amp;#40;f f f ... n&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;ƒ should have no args, possibly impure. Returns an infinite sequence (or size n) of successive calls to ƒ.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;repeat x → '&amp;#40;x x x ...&amp;#41;
repeat n x → '&amp;#40;x x x ...n&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns an infinite sequence (or size n) of value x. If x is a function, only one call is made.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;seq coll
sequencecoll

;; Examples
&amp;#40;seq {}&amp;#41; ou &amp;#40;seq nil&amp;#41; ; nil
&amp;#40;sequence {}&amp;#41; ou &amp;#40;sequence nil&amp;#41;
; &amp;#40;&amp;#41;
&amp;#40;sequence &amp;#91;1 2&amp;#93;&amp;#41; ou &amp;#40;seq &amp;#91;1 2&amp;#93;&amp;#41;
; &amp;#40;1 2&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sequence from the collection &lt;code&gt;coll&lt;/code&gt;. For an &lt;code&gt;nil&lt;/code&gt; or empty collection, &lt;code&gt;seq&lt;/code&gt; and &lt;code&gt;sequence&lt;/code&gt; behave differently.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;sort coll
sort comp coll
sort-by keyfn coll
sort-by keyfn comp coll

;; Examples
&amp;#40;sort &amp;#91;1 56 2 23 45 34 6 43&amp;#93;&amp;#41;
; &amp;#40;1 2 6 23 34 43 45 56&amp;#41;
&amp;#40;sort &amp;gt; &amp;#91; 1 56 2 23 45 34 6 43&amp;#93;&amp;#41;
; &amp;#40;56 45 43 34 23 6 2 1&amp;#41;
&amp;#40;sort-by #&amp;#40;.length %&amp;#41;
         &amp;#91;&amp;quot;the&amp;quot; &amp;quot;quick&amp;quot;
          &amp;quot;brown&amp;quot; &amp;quot;fox&amp;quot;&amp;#93;&amp;#41;
; &amp;#40;&amp;quot;the&amp;quot; &amp;quot;fox&amp;quot; &amp;quot;quick&amp;quot; &amp;quot;brown&amp;quot;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a sorted sequence.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;split-at n coll

;; Examples
&amp;#40;split-at 2 &amp;#91;:a :b :c :d :e&amp;#93;&amp;#41;
; &amp;#91;&amp;#40;:a :b&amp;#41; &amp;#40;:c :d :e&amp;#41;&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a vector of &lt;code&gt;&amp;#91;&amp;#40;take n coll&amp;#41; &amp;#40;drop n coll&amp;#41;&amp;#93;&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;split-with pred coll

;; Examples
&amp;#40;split-with &amp;#40;partial &amp;gt;= 3&amp;#41;
; &amp;#91;1 2 3 4 5&amp;#93;&amp;#41; &amp;#91;&amp;#40;1 2 3&amp;#41; &amp;#40;4 5&amp;#41;&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a vector of &lt;code&gt;&amp;#91;&amp;#40;take-while pred coll&amp;#41; &amp;#40;drop-while pred coll&amp;#41;&amp;#93;&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;take-nth n c

;; Examples
&amp;#40;take-nth 3 '&amp;#40;2 5 9 6 8 9 10 11&amp;#41;&amp;#41;
; &amp;#40;2 6 10&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Takes the first and every nth elements of &lt;code&gt;c&lt;/code&gt;.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;take-while pred coll
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns elements of &lt;code&gt;coll&lt;/code&gt; as long as predicate &lt;code&gt;pred&lt;/code&gt; is true.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;tranpoline f &amp;amp; args
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Used for mutual recursion without consumming the stack. Performs the ping pong as long as what is returned is a function.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;update-in map &amp;#91;k1 .. kn&amp;#93; f &amp;amp; args

;; Examples
&amp;#40;def jdoe {:name &amp;quot;John Doe&amp;quot;
           : address {:zip 41,...}}&amp;#41;
&amp;#40;update-in jdoe &amp;#91;:address :zip&amp;#93; inc&amp;#41;
; {:name &amp;quot;John Doe&amp;quot;
;  :address {:zip 42}}
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns an associative structure identical to &lt;code&gt;map&lt;/code&gt; but with the value of the nested key reached by &amp;#92;( k&amp;#95;1 \cdots k&amp;#95;n &amp;#92;)  updated by ƒ (and its optional arguments).  If the &amp;#92;( k_x &amp;#92;) level does not exist, hash-maps will be created.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;vec c → &amp;#91;c1 c2 ...&amp;#93;
vec nil → &amp;#91;&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a &lt;code&gt;vector&lt;/code&gt; containing the elements of c.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;vector x1 x2 ... → &amp;#91;x1 x2 ...&amp;#93;
vector nil → &amp;#91;nil&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a vector containing all arguments &amp;#92;( x_\n &amp;#92;).  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;vector-of t
vector-of t &amp;amp; x1 ... xn

;; Examples
&amp;#40;conj &amp;#40;vector-of :int 4&amp;#41; 1 2 3&amp;#41;
; &amp;#91;4 1 2 3&amp;#93;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;Returns a &lt;code&gt;vector&lt;/code&gt; of primitive types (:int :long :float :double :byte :short :char or :boolean) containing all optional &amp;#92;( x_\n &amp;#92;) arguments.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;zipmap keys vals → &amp;#40;k1 v1 ... kn vn&amp;#41;
zipmap &amp;#91;k1 k2&amp;#93; &amp;#91;v1&amp;#93; → &amp;#40;k1 v1&amp;#41;
zipmap &amp;#91;k&amp;#93; &amp;#91;v1 v2&amp;#93; → &amp;#40;k1 v1&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;return a &lt;code&gt;map&lt;/code&gt; with the keys associated with values.  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;tr&gt;   &lt;td&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;map first
     &amp;#40;filter &amp;#40;comp #{:a :b} first&amp;#41;
             &amp;#91;&amp;#91;:a&amp;#93; &amp;#91;:d&amp;#93;&amp;#93;&amp;#41;&amp;#41;
;=&amp;gt; &amp;#40;:a&amp;#41;
&amp;#40;keep &amp;#40;comp #{:a} first&amp;#41; &amp;#91;&amp;#91;:a&amp;#93; &amp;#91;:b&amp;#93;&amp;#93;&amp;#41;
;=&amp;gt; &amp;#40;:a&amp;#41;
&lt;/code&gt;&lt;/pre&gt;  &lt;/td&gt;  &lt;td&gt;keep = map + filter  &lt;/td&gt;&lt;/tr&gt;&lt;p&gt;&lt;/table&gt;&lt;/p&gt;&lt;p&gt;Inspect a &lt;code&gt;map&lt;/code&gt; :&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;require 'clojure.inspector&amp;#41;
&amp;#40;clojure.inspector/inspect-tree map&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And finally, some other useful functions, from the excellent &lt;a href='http://blog.jayfields.com/2012/09/replacing-common-code-with-clojureset.html' target='_blank'&gt;Jay Fields's blog&lt;/a&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;def jay {:fname &amp;quot;jay&amp;quot; :lname &amp;quot;fields&amp;quot; :employer &amp;quot;drw&amp;quot;}&amp;#41;
&amp;#40;def mike {:fname &amp;quot;mike&amp;quot; :lname &amp;quot;jones&amp;quot; :employer &amp;quot;forward&amp;quot;}&amp;#41;
&amp;#40;def john {:fname &amp;quot;john&amp;quot; :lname &amp;quot;dydo&amp;quot; :employer &amp;quot;drw&amp;quot;}&amp;#41;

; returns a map whose keys are every employers and values are people defined above
&amp;#40;clojure.set/index &amp;#91;jay mike john&amp;#93; &amp;#91;:employer&amp;#93;&amp;#41;
; =&amp;gt; {{:employer &amp;quot;drw&amp;quot;} #{{:employer &amp;quot;drw&amp;quot; :fname &amp;quot;jay&amp;quot; :lname &amp;quot;fields&amp;quot;}
;                         {:employer &amp;quot;drw&amp;quot; :fname &amp;quot;john&amp;quot; :lname &amp;quot;dydo&amp;quot;}}
; {:employer &amp;quot;forward&amp;quot;} #{{:employer &amp;quot;forward&amp;quot; :fname &amp;quot;mike&amp;quot; :lname &amp;quot;jones&amp;quot;}}}

; projection
&amp;#40;clojure.set/project &amp;#91;jay mike john&amp;#93; &amp;#91;:fname :lname&amp;#93;&amp;#41;
; =&amp;gt; #{{:lname &amp;quot;fields&amp;quot;, :fname &amp;quot;jay&amp;quot;}
;      {:lname &amp;quot;dydo&amp;quot;, :fname &amp;quot;john&amp;quot;}
;      {:lname &amp;quot;jones&amp;quot;, :fname &amp;quot;mike&amp;quot;}}

; key rename
&amp;#40;clojure.set/rename &amp;#91;jay mike john&amp;#93; {:fname :first-name :lname :last-name}&amp;#41;
; =&amp;gt; #{{:last-name &amp;quot;jones&amp;quot;, :first-name &amp;quot;mike&amp;quot;, :employer &amp;quot;forward&amp;quot;}
;      {:last-name &amp;quot;dydo&amp;quot;, :first-name &amp;quot;john&amp;quot;, :employer &amp;quot;drw&amp;quot;}
;      {:last-name &amp;quot;fields&amp;quot;, :first-name &amp;quot;jay&amp;quot;, :employer &amp;quot;drw&amp;quot;}}
&lt;/code&gt;&lt;/pre&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Thu, 26 May 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-02-18-clojure-plugins-tools/
</guid>
<link>
http://world-in-atom.com/posts/2015-02-18-clojure-plugins-tools/
</link>
<title>
Clojure - Plugins &amp; tools
</title>
<description>
&lt;p&gt;This is my modest contribution to the &lt;a href='https://github.com/technomancy/leiningen/wiki/Plugins' target='_blank'&gt;plugins universe&lt;/a&gt; of Leiningen. I synthesized here some of my observations and comments, as others have already done &lt;a href='http://jakemccrary.com/blog/2015/01/11/overview-of-my-leiningen-profiles-dot-clj/' target='_blank'&gt;here&lt;/a&gt; and &lt;a href='http://www.corfield.org/blog/post.cfm/insanely-useful-leiningen-plugins' target='_blank'&gt;there&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;I highly recommand to try and adopt the following plugins and tools.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;plugins&quot;&gt;&lt;/a&gt;Plugins&lt;/h2&gt;&lt;p&gt;There are two ways to add a plugin:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;globally in &lt;code&gt;&amp;#126;/.lein/profiles.clj&lt;/code&gt;.  The plugin will be available for all projects.&lt;/li&gt;&lt;li&gt;For a particular project, in its &lt;code&gt;project.clj&lt;/code&gt;.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Keep in mind that all plugins specified in &lt;code&gt;profiles.clj&lt;/code&gt; and thus loaded at the same time than the REPL may interfere with it, because they affect the initial classpath, which is different from the project classpath.&lt;/p&gt;&lt;p&gt;&amp;#x2799; I recommend to add these plugins directly in projects (&lt;code&gt;project.clj&lt;/code&gt;) when required.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;check&amp;#95;out&amp;#95;updates&quot;&gt;&lt;/a&gt;Check out updates&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;xsc/lein-ancient&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Check for outdated dependencies and plugins.&lt;/p&gt;&lt;p&gt;It can also update the &lt;code&gt;project.clj&lt;/code&gt; and &lt;code&gt;&amp;#126;/.lein/profiles.clj&lt;/code&gt; files, automatically or interactively.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;lein ancient &amp;#91;upgrade :interactive&amp;#93;

lein ancient &amp;#91;upgrade-&amp;#93;profiles
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;div class=&quot;alert alert-warning&quot;&gt; &lt;i class=&quot;fa fa-warning&quot;&gt;&lt;/i&gt; Warning! The plugin does not manage utf8 correctly, so data can be corrupted, for example if you have a special REPL prompt. &lt;/div&gt;&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;tests&amp;#95;&amp;&amp;#95;benchmarks&quot;&gt;&lt;/a&gt;Tests &amp; benchmarks&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;criterium&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Benchmarks.&lt;/p&gt;&lt;h4&gt;&lt;a name=&quot;'static&amp;#95;code&amp;#95;analyzers'&amp;#95;&amp;&amp;#95;'clojure&amp;#95;lint&amp;#95;tools'&quot;&gt;&lt;/a&gt;'Static code analyzers' &amp; 'Clojure lint tools'&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;jonase/kibit&lt;/code&gt;, &lt;code&gt;lein-bikeshed&lt;/code&gt;, &lt;code&gt;jonase/eastwood&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;code&gt;Kibit&lt;/code&gt; is written with &lt;code&gt;core.logic&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;A plugin for LightTable is also available: &lt;code&gt;danielribeiro/LightTableKibit&lt;/code&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-expectations&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Leiningen plugin for running tests written using the expectations library.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;pedandic&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;A Leiningen plugin to reject dependency graphs with common user surprises. I can't get the v0.0.5 to work.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;documentation&quot;&gt;&lt;/a&gt;Documentation&lt;/h3&gt;&lt;h4&gt;&lt;a name=&quot;consult&quot;&gt;&lt;/a&gt;Consult&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;clj-ns-browser.sdoc&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Displays in an external browser available docs for namespaces, functions, ...&lt;/p&gt;&lt;p&gt;Can be injected in the REPL with &lt;code&gt;im.chit/vinyasa&lt;/code&gt;.&lt;/p&gt;&lt;h4&gt;&lt;a name=&quot;generate&quot;&gt;&lt;/a&gt;Generate&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;gdeer81/lein-marginalia&lt;/code&gt; et &lt;code&gt;michaelblume/lein-marginalia&lt;/code&gt; (clj 1.7+)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Use &lt;code&gt;lein marg &amp;lt;options&amp;gt;&lt;/code&gt; in the project's root directory. Generates &lt;code&gt;docs/uberdoc.html&lt;/code&gt;. On the left of the page, text from comments and docstrings, on the right the Clojure code.&lt;/p&gt;&lt;p&gt;Markdown and asciidoc formats can be used in docstrings and in standards comments (must put two &lt;code&gt;;&lt;/code&gt; to enable).&lt;/p&gt;&lt;p&gt;You can also insert mathematical formulas. Put in the beginning of the clojure source:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;;; &amp;lt;script type=&amp;quot;text/javascript&amp;quot;
;;  src=&amp;quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML&amp;#95;HTMLorMML&amp;quot;&amp;gt;
;; &amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then use one of the two notations (inline or not):&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;\\&amp;#40;r&amp;#94;2 = x&amp;#94;2 + y&amp;#94;2\\&amp;#41;
or
$$r&amp;#94;2 = x&amp;#94;2 + y&amp;#94;2$$
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This plugin does not work when the project's description is written as&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;:description &amp;#40;str &amp;quot;xx&amp;quot;
                  &amp;quot;yy&amp;quot;&amp;#41;
 &lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;codox&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Generating API documentation from Clojure source code. The default css is somewhat austere, blue text on gray background.&lt;/p&gt;&lt;p&gt;&lt;em&gt;Cross Reference All the Things&lt;/em&gt; with &lt;code&gt;&amp;quot;Document &amp;#91;&amp;#91;module.submodule/var&amp;#93;&amp;#93;&amp;quot;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;Hide Auto-Generated Record Constructors&lt;/em&gt; eg for records, with &lt;code&gt;MyRecord&lt;/code&gt;, we automatically get &lt;code&gt;-&amp;gt;MyRecord &amp;amp; map-&amp;gt;MyRecord&lt;/code&gt;. &lt;code&gt;&amp;#40;alter-meta! #'-&amp;gt;RecordName assoc :no-doc true&amp;#41;&lt;/code&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-autodoc&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Generates documentation for a project. The v0.9 does not work well with Leiningen 2 and the v1.0 is not yet published.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;other&amp;#95;plugins&quot;&gt;&lt;/a&gt;Other plugins&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;clj-ns-browser&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Can be injected in the REPL with &lt;code&gt;im.chit/vinyasa&lt;/code&gt;. Launch a complete 'explorer' of functions and var available in the namespaces.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;clj-stacktrace&lt;/code&gt; and &lt;code&gt;io.aviso/pretty&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Nice exceptions with colorful stack trace. The stack from &lt;code&gt;aviso&lt;/code&gt; is easier to read than the one from &lt;code&gt;clj-stacktrace&lt;/code&gt;. The original &lt;code&gt;&amp;#40;pst&amp;#41;&lt;/code&gt; command can be overrided in a profile's injections.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;clojure.stacktrace/print-stack-trace &amp;#42;e&amp;#41;
or
&amp;#40;io.aviso.exception/write-exception &amp;#42;e&amp;#41;
or
&amp;#40;clj-stacktrace.repl/pst+&amp;#41;

to display last exception
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;im.chit/vinyasa&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Injects functions in namespaces. See &lt;a href=&quot;http://z.caudate.me/a-more-refined-vinyasa-inject&quot;&gt;http://z.caudate.me/a-more-refined-vinyasa-inject&lt;/a&gt;.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-autoreload&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Reloads modified sources (and thus namespaces) in the REPL. Does not work well with ClojureScript projects whose sources are in &lt;code&gt;src/clj&lt;/code&gt; and &lt;code&gt;src/cljs&lt;/code&gt;.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;emezeske/lein-cljsbuild&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Leiningen plugin to make ClojureScript development easy.&lt;/p&gt;&lt;p&gt;Mandatory for ClojureScript dev!&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;the-kenny/lein-deps-tree&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Prints a print a nicely formatted tree of a project's dependencies.&lt;/p&gt;&lt;p&gt;I do not really see the difference with the &lt;code&gt;lein deps: tree&lt;/code&gt; command. Maybe the way to retrieve dependencies (aether, other)?&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-light-nrepl&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Allows LightTable to communicate with an external REPL. Options can be specified (port, middleware, ...). Very useful, because I find the evaluation inside LightTable not very convenient for collections.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;marick/lein-midje&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Runs both Midje and clojure.test tests.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-ns-dep-graph&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Shows the namespace dependencies of Clojure project sources as a graph. Uses Graphviz.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-pdo&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Higher-order task to perform other tasks in parallel.&lt;/p&gt;&lt;p&gt;Several tasks can be launched with only one command, without interblocking.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;xeqi/lein-pedantic&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Reject dependency graphs with common user surprises.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-plz&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Add Leiningen dependencies quickly to the &lt;code&gt;project.clj&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;The dependencies can possibly be grouped into logical blocks.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-pprint&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Pretty-print a representation of the project map.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;weavejester/lein-ring&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Manage &lt;code&gt;ring&lt;/code&gt; with command line: start and stop sever, generate uberwar, ...&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;lein ring uberwar # standalone version, directly in shell
lein ring war # for use with an app server
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Options in the &lt;code&gt;project.clj&lt;/code&gt; file:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;:ring {:handler try-atw-om.core/app
       :init try-atw-om.core/init}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then inside shell: &lt;code&gt;ring server-headless &amp;lt;port&amp;gt;&lt;/code&gt; (does not start a browser)&lt;/p&gt;&lt;p&gt;A jar file for standalone deployment can be packaged and started with:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;lein ring uberjar; java -jar &amp;lt;project&amp;gt;-&amp;lt;version&amp;gt;-standalone.jar
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;A war file that will deploy into an existing tomcat with:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;lein ring war
or
lein ring uberwar ; all dependencies included
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-try&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;To try libs without even creating a project.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;LonoCloud/lein-voom&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Helps you clean up your dependency tree.&lt;/p&gt;&lt;p&gt;Especially useful when you have snapshot versions.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;org.timmc/nephila&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Show a graph of your Clojure namespaces.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;slamhound&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;(Re)compute automatically requires and imports.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;slamhound&lt;/code&gt; alias is available for the shell but this tools can also be launched within a REPL:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;require '&amp;#91;slam.hound&amp;#93;&amp;#41;
&amp;#40;slam.hound/-main &amp;quot;src/my/namespace.clj&amp;quot;&amp;#41;
&amp;#40;slam.hound/-main &amp;quot;src&amp;quot;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;&lt;a name=&quot;tools&quot;&gt;&lt;/a&gt;Tools&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;aprint&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Improved &lt;code&gt;print&lt;/code&gt; display.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;taoensso.timbre&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Excellent logging library. Use &lt;code&gt;timbre&lt;/code&gt; rather than &lt;code&gt;&amp;#40;def ppr #'clojure.pprint/pprint&amp;#41;&lt;/code&gt;. The timbre config is shared amongst namespaces.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;daveray/seesaw&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;code&gt;Seesaw&lt;/code&gt; easily create everything you need for a Swing application.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;standalone&amp;#95;scripts&quot;&gt;&lt;/a&gt;Standalone Scripts&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;lein-exec&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Add this profile the the &lt;code&gt;:user&lt;/code&gt; profile in your &lt;code&gt;&amp;#126;/.lein/profiles.clj&lt;/code&gt; config file.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;{:plugins &amp;#91;&amp;#91;lein-exec &amp;quot;0.3.1&amp;quot;&amp;#93;&amp;#93;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then &lt;code&gt;lein exec standalone.clj&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;With mini scripts &lt;code&gt;lein-exec&amp;#40;-p&amp;#41;&lt;/code&gt; it is possible to use &lt;code&gt;#!/bin/bash lein-exec&amp;#40;-p&amp;#41;&lt;/code&gt; directly in file's header.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;boot&quot;&gt;&lt;/a&gt;Boot&lt;/h2&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;wget https://clojars.org/repo/tailrecursion/boot/1.1.1/boot-1.1.1.jar
mv boot-1.1.1.jar boot
chmod a+x boot
mv boot &amp;#126;/bin/boot
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Immutable File System -&gt; boot task -&gt; boot task2 -&gt; ...&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Wed, 18 Feb 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-02-09-uberjar-and-clojurescript/
</guid>
<link>
http://world-in-atom.com/posts/2015-02-09-uberjar-and-clojurescript/
</link>
<title>
Uberjar with ClojureScript
</title>
<description>
&lt;p&gt;Today I wanted to deploy a &lt;code&gt;ring&lt;/code&gt; project with a ClojureScript part.&lt;/p&gt;&lt;p&gt;Deployment is done with an uberjar, which I find effective. I use an additional directory to separate the sources, which are located in &lt;code&gt;src/clj/ns&lt;/code&gt; and &lt;code&gt;src/cljs/ns&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;So, during the compilation, &lt;code&gt;lein&lt;/code&gt; complains it could not locate the namespace:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;...FileNotFoundException: Could not locate ns/main&amp;#95;&amp;#95;init.class ...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The reason is that the standard content of the &lt;code&gt;source-paths&lt;/code&gt; option, which is usually &lt;code&gt;src/ns&lt;/code&gt;, is no more suitable. So I changed the &lt;code&gt;uberjar&lt;/code&gt; profile in order to specify the different structure of the source directories.&lt;/p&gt;&lt;p&gt;Firstly, the &lt;code&gt;sources-level-down&lt;/code&gt; profile shown below replaces the standard content of the &lt;code&gt;source-paths&lt;/code&gt;. I found a tip on the Leiningen site to define profiles overrides. It therefore allows to include this kind of source paths only for projects with ClojureScript:&lt;/p&gt;&lt;p&gt;Once, in the &lt;code&gt;&amp;#126;/.lein/profiles.clj&lt;/code&gt; file:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;:sources-level-down {:source-paths &amp;#94;:replace &amp;#91;&amp;quot;src/clj&amp;quot; &amp;quot;src/cljs&amp;quot;&amp;#93;}

:uberjar-common {:aot :all
                 &amp;lt;other options&amp;gt;}
:uberjar-additional {} ; nothing by default
:uberjar &amp;#91;:uberjar-common :uberjar-additional&amp;#93;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In every ClojureScript projects, in their &lt;code&gt;project.clj&lt;/code&gt; file:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;; overrides profile to include new `source-path` definition
:profiles {:uberjar-additional &amp;#91;:sources-level-down&amp;#93;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Remember that the JavaScript compilation will not be automatic during the uberjar build.&lt;/p&gt;&lt;p&gt;No doubt a hook can be added to the workflow, but in the meantime I recommend using &lt;a href='https://github.com/oakmac/cuttle' target='_blank'&gt;&lt;code&gt;cuttle&lt;/code&gt;&lt;/a&gt; defined itself as an &lt;i&gt;User Interface for the ClojureScript Compiler&lt;/i&gt;, to keep an eye on the JS compilation status.&lt;/p&gt;&lt;p&gt;Happy uberjar!&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Mon, 09 Feb 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-02-05-dashboard-part2/
</guid>
<link>
http://world-in-atom.com/posts/2015-02-05-dashboard-part2/
</link>
<title>
Dashboard, part 2
</title>
<description>
&lt;p&gt;After a break for more important projects, I'm back on the dashboard project. Since the first version was working fine, I decided to redo everything, according to a well-known principle in application development...&lt;/p&gt;&lt;p&gt;I replaced vanilla JavaScript by ClojureScript, and Ajax calls on &lt;code&gt;Compojure&lt;/code&gt; routes (to retrieve data) by &lt;code&gt;core.async&lt;/code&gt; on a &lt;code&gt;websocket&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;I had previously used on another project websockets with &lt;code&gt;httpkit&lt;/code&gt; and &lt;code&gt;webbitserver&lt;/code&gt;. It was working on two different ports, and management (and building) of websocket brought a lot of boilerplate.&lt;/p&gt;&lt;p&gt;It was also necessary to convert data to json with &lt;code&gt;cheshire&lt;/code&gt; on the server side and Javascript functions on the front side.&lt;/p&gt;&lt;p&gt;For websockets I started using &lt;a href='https://github.com/ptaoussanis/sente' target='_blank'&gt;sente&lt;/a&gt;, which seemed to meet my needs perfectly. This library is from the same author than the excellent logging library &lt;code&gt;timbre&lt;/code&gt;. Alas, a version conflicts and a recalcitrant macro prevented me from using it.&lt;/p&gt;&lt;p&gt;So I focused my attention on &lt;a href='https://github.com/james-henderson/chord' target='_blank'&gt;chord&lt;/a&gt;. Same core functionality than &lt;code&gt;sente&lt;/code&gt;. The merge with the Compojure routes is done with the &lt;code&gt;wrap-websocket-handler&lt;/code&gt; wrapper; the &lt;code&gt; transit&lt;/code&gt; format is default, so everything is perfect.&lt;/p&gt;&lt;p&gt;There's no need anymore to worry about the &lt;code&gt;onOpen&lt;/code&gt;, &lt;code&gt;onClose&lt;/code&gt; and &lt;code&gt;onMessage&lt;/code&gt; methods of the websocket, everything is automatic. It lets the user focus on data to transit the ws-channel, with &lt;code&gt;core.async&lt;/code&gt; &lt;code&gt;get&lt;/code&gt; and &lt;code&gt;put&lt;/code&gt;. And of course all is done without having to explicitly convert the data to json.&lt;/p&gt;&lt;p&gt;On the front side, I use &lt;a href='https://github.com/levand/domina' target='_blank'&gt;domina&lt;/a&gt;, which allows me to easily manipulate the elements of the page as well as events.&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Thu, 05 Feb 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-01-26-link-with-editor/
</guid>
<link>
http://world-in-atom.com/posts/2015-01-26-link-with-editor/
</link>
<title>
Link with editor
</title>
<description>
&lt;p&gt;I released a very simple LightTable plugin that highlight in the &lt;code&gt;Workspace&lt;/code&gt; view the file currently edited. The sources are available on my &lt;a href='https://github.com/obarbeau/lt-link-with-editor' target='_blank'&gt;GitHub repo&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;It has been build upon the &lt;a href='https://github.com/mdhaney/lt-plugin-template' target='_blank'&gt;&lt;code&gt;mdhaney/lt-plugin-template&lt;/code&gt;&lt;/a&gt;, with the lein command: &lt;code&gt;lein new lt-plugin link-with-editor&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;This template generates the same structure and files than those in the &lt;code&gt;&amp;#126;.config/LightTable/User&lt;/code&gt; directory, which is the default user plugin namespace.&lt;/p&gt;&lt;p&gt;I suggest to symlink the project's directory to the Light Table plugin dir &lt;code&gt;&amp;#126;/.config/LightTable/plugins/&lt;/code&gt;. Thus, by running the commands &lt;code&gt;Plugins: Refresh plugin list&lt;/code&gt; then &lt;code&gt;App: reload behaviors&lt;/code&gt;, your plugin is available and ready to test inside Light Table.&lt;/p&gt;&lt;p&gt;Then, running &lt;code&gt;Editor: Build file or project&lt;/code&gt; recompiles the Javascript file. One can also connect to &lt;code&gt;Light Table UI&lt;/code&gt;. Any change made in the source files is taken into account automatically.&lt;/p&gt;&lt;p&gt;Don't forget to open the LT console because all output (via &lt;code&gt;println&lt;/code&gt;) are redirected here.&lt;/p&gt;&lt;p&gt;Finally the &lt;a href='https://github.com/LightTable/LightTable/tree/master/src/lt' target='_blank'&gt;LT's GitHub&lt;/a&gt; is mandatory for discovering useful namespaces, behaviors and commands for your plugin.&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Mon, 26 Jan 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-01-20-dashboard/
</guid>
<link>
http://world-in-atom.com/posts/2015-01-20-dashboard/
</link>
<title>
Dashboard
</title>
<description>
&lt;p&gt;Since three days I work on a dashboard that will display statistics in the form of tables and graphs.&lt;/p&gt;&lt;p&gt;I am using with great pleasure the following tools:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href='https://github.com/ring-clojure/ring' target='_blank'&gt;ring&lt;/a&gt; for the server,&lt;/li&gt;&lt;li&gt;&lt;a href='https://github.com/weavejester/compojure' target='_blank'&gt;compojure&lt;/a&gt; for the  routing,&lt;/li&gt;&lt;li&gt;&lt;a href='https://github.com/weavejester/hiccup' target='_blank'&gt;hiccup&lt;/a&gt; for dynamic generation of html pages,&lt;/li&gt;&lt;li&gt;also &lt;a href='https://github.com/mbossenbroek/simple-time' target='_blank'&gt;simple-time&lt;/a&gt; for handling dates,  I found it to be more lightweight and concise as  &lt;a href='https://github.com/clj-time/clj-time' target='_blank'&gt;clj-time&lt;/a&gt;.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thanks to the &lt;code&gt;ring.middleware.reload&lt;/code&gt; middleware and the tip which is to set in ring the compojure's routes as a var quote (&lt;code&gt;#'app-routes&lt;/code&gt;), every modification made in the code is taken into account without the need to reload the namespace in the REPL.&lt;/p&gt;&lt;p&gt;I have not yet chosen between Dimple.js and Epoch for the display part.&lt;/p&gt;&lt;p&gt;Finally, &lt;a href='https://github.com/joegallo/doric' target='_blank'&gt;&lt;code&gt;doric&lt;/code&gt;&lt;/a&gt; helps me to show my data in chart form in the REPL, which is appreciable.&lt;/p&gt;&lt;p&gt;Of course the IDE I use is &lt;a href='http://lighttable.com/' target='_blank'&gt;Light Table&lt;/a&gt;, a must :-)&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Tue, 20 Jan 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-01-16-flat-cable-earphones/
</guid>
<link>
http://world-in-atom.com/posts/2015-01-16-flat-cable-earphones/
</link>
<title>
Flat Cable Earphones
</title>
<description>
&lt;p&gt;The last time that I went to the market, I lost my earphone. I bought some smoked haddock that day, which has proved very good, but this is not the subject of this post.&lt;/p&gt;&lt;p&gt;In order to continue to listen to Opeth, Marillion and Kamelot in the bus that brings me to work, I bought a &lt;em&gt;Klipsch Image S4&lt;/em&gt; earphone. The sound is very good, with powerful and satisfactory bass.&lt;/p&gt;&lt;p&gt;One silly thing and yet very pleasant, are the flat cables, which do not intertwine. It is a pleasure every morning to quickly be able to listen to his music, without losing 10 minutes to curse the ball of yarn.&lt;/p&gt;&lt;p&gt;By looking for the link on the site of the manufacturer, I realize that this earphone is already no more sold, and that he has been replaced by &lt;a href='http://www.klipsch.com/R6i' target='_blank'&gt;this one&lt;/a&gt;.&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Fri, 16 Jan 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-01-14-moving-git-repo-to-github/
</guid>
<link>
http://world-in-atom.com/posts/2015-01-14-moving-git-repo-to-github/
</link>
<title>
Moving Git repo to GitHub
</title>
<description>
&lt;p&gt;Today I pushed my &lt;a href='https://github.com/obarbeau/repl-tasks' target='_blank'&gt;&lt;code&gt;repl-tasks&lt;/code&gt;&lt;/a&gt; project to GitHub, whose repository was previously on a personal &lt;a href='https://www.synology.com/' target='_blank'&gt;Synology&lt;/a&gt; server.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;# add the new repo on GitHub
git remote add new-origin git@github.com:obarbeau/repl-tasks.git
# push everything
git push --all new-origin
git push --tags new-origin
# rename old syno repo
git remote rename origin previous-on-syno
# rename new repo to master
git remote rename new-origin origin
# change destination of local master branch to new repo
git branch master --set-upstream-to=origin/master
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The history is preserved.&lt;/p&gt;&lt;p&gt;If some branches had existed, it would have been necessary to pull them first to the local repo and then push them to the new one.&lt;/p&gt;&lt;p&gt;See this &lt;a href='http://www.smashingmagazine.com/2014/05/19/moving-git-repository-new-server/' target='_blank'&gt;post&lt;/a&gt; for more information.&lt;/p&gt;&lt;p&gt;This project needs some refactoring and documentation, I'll do it ASAP...&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Wed, 14 Jan 2015 00:00:00 +0100
</pubDate>
</item>
<item>
<guid>
http://world-in-atom.com/posts/2015-01-13-cleaning-day/
</guid>
<link>
http://world-in-atom.com/posts/2015-01-13-cleaning-day/
</link>
<title>
Cleaning day
</title>
<description>
&lt;p&gt;I just spent the morning to sort paper records that were sleeping over my office box. I should say throwing them, because indeed the trash is now overflowing. I kept very little documentation.&lt;/p&gt;&lt;p&gt;Finally all these paper records have little interest. Most are intermediate versions of documents; so there are 'final' versions elsewhere, often electronic ones. When looking at those files one takes the 'risk' to miss the latest information.&lt;/p&gt;&lt;p&gt;Others are printed emails, which are anyway stored in the mail box.&lt;/p&gt;&lt;p&gt;Finally, the rest are outdated notes or whose ideas were echoed elsewhere.&lt;/p&gt;&lt;p&gt;I only kept the documents relating to actions actually in progress, or whose notes have not been written in electronic form, as well as original bills.&lt;/p&gt;&lt;p&gt;Zero paper is on track.&lt;/p&gt;
</description>
<enclosure>

</enclosure>
<pubDate>
Tue, 13 Jan 2015 00:00:00 +0100
</pubDate>
</item>
</channel>
</rss>
